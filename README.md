# taiko-practice

太鼓練習のための太鼓の達人っぽい動画を作るツール

## プロジェクト概要

このプロジェクトは、小太鼓と大太鼓を用いた民族太鼓の練習用動画を作成するためのツールです。

### 目的

太鼓の達人風のUIで、「このタイミングで左手を叩く」「右手で叩く」といった指示を視覚的に表示する練習用動画を生成します。これにより、民族太鼓の初学者が正しいタイミングと手順を学べるようになります。

### 主な機能

1. **動画解析による譜面生成**
   - 既存の太鼓演奏動画を解析
   - 音声から打撃音を検出し、叩いたタイミング（秒数）を特定
   - そのタイミングのフレーム画像から左手/右手を判別
   - 譜面データ（タイミングと叩く手の情報）をコードとして出力

2. **練習用動画の生成**
   - [Remotion](https://www.remotion.dev/)を使用して動画を作成
   - 元動画の下部にノーツUIをオーバーレイ表示
   - 太鼓の達人風のUIで叩くタイミングを視覚的に表示
   - 判定ラインは視覚的な目安として表示（実際の判定処理は不要）
   - 左手・右手の区別を色分けなどで明示

### ワークフロー

```
演奏動画 → 動画解析 → 譜面データ生成 → Remotionで練習動画作成
```

## To Do

### 1. プロジェクトセットアップ
- [ ] Remotionプロジェクトの初期セットアップ
- [ ] 必要なパッケージのインストール（動画解析ライブラリなど）
- [ ] プロジェクト構成の設計

### 2. 動画解析による譜面生成
- [ ] 動画ファイルの読み込み機能
- [ ] 動画から音声トラックの抽出
- [ ] 太鼓の打撃音検出アルゴリズムの実装（叩いた秒数を特定）
- [ ] 打撃タイミングのフレーム画像抽出
- [ ] 画像解析による左手・右手の判別ロジックの実装
- [ ] 譜面データ形式（JSON等）の設計
- [ ] 譜面データの出力機能

### 3. 練習用動画の生成（Remotion）
- [ ] 元動画と組み合わせたレイアウト設計（上部：元動画、下部：ノーツUI）
- [ ] 太鼓の達人風UIのデザイン設計
- [ ] 判定ライン（叩くポイント）のコンポーネント作成（表示のみ、判定処理なし）
- [ ] ノーツ（流れてくる音符）コンポーネントの作成
- [ ] 左手・右手の色分け表示（例：左=青、右=赤）
- [ ] 譜面データの読み込み・パース機能
- [ ] ノーツのアニメーション（右から左へ流れる）
- [ ] 元動画の読み込みと同期再生
- [ ] 動画レンダリング・エクスポート機能

### 4. テスト・改善
- [ ] サンプル動画での動作テスト
- [ ] タイミング精度の検証と調整
- [ ] UIの見やすさの改善
